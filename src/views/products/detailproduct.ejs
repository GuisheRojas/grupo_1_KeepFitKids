<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include('../partials/head') %>
        <title>Detalle de producto</title>
    </head>
<body>
    <%- include('../partials/header') %>
    <main class="detailmain">
        <div class="productandprice">
            <section class="productimg">
                <img class="prod" src=/img/products/<%= product_image?.dataValues.name %>>
            </section>
            <section class="priceandinfo">
                <h1 class="nameofproduct"><%= product?.name%></h1>
                <h2 class="priceofproduct">$<%= product?.price%></h2>
                <div class="logistic">
                    <i class="fas fa-truck"></i>
                    <h4 class="freesend">Envío Gratis</h4>
                </div>
                <h2 class="mediodepago">Medios de pago:</h3>
                <div class="logocards">
                    <img class="visacard" src="/img/logomastercard.png">
                    <img class="visacard" src="/img/logovisa.png">
                </div>

                <div class="opcionesdecompra">
                    <form class="formdecomprar" action="/products/detailproduct/<%= product?.id %>" method="POST">
                        <div class="divcolors">
                            <label>Seleccione un color</label>
                            <select class="colord" name="colorStock">
                                <% for (let i=0; i < stock?.length; i++) {%>
                                    <% for (let j=0; j < colors?.length; j++) { %>
                                        <% if (stock[i].dataValues.id_color == colors[j].dataValues.id) { %>
                                            <option value="<%= colors[j].dataValues.name %>"><%= colors[j].dataValues.name %></option>
                                        <% } %>
                                    <% } %>
                                <% } %>
                            </select>
                        </div>
                        <div class="divtalles">
                            <label>Seleccione un talle</label>
                            <select class="tallesd" name="sizeStock">
                                <% for (let i=0; i < stock?.length; i++) {%>
                                    <% for (let j=0; j < sizes?.length; j++) { %>
                                        <% if (stock[i].dataValues.id_size == sizes[j].dataValues.id) { %>
                                            <option value="<%= sizes[j].dataValues.name %>"><%= sizes[j].dataValues.name %></option>
                                        <% } %>
                                    <% } %>
                                <% } %>
                            </select>
                        </div>
                        <div class="seleccioncuant">
                            <label for="cantidad">Selecciona la cantidad</label>
                            <input class="cuantd" type="number" min="1" name="cantidad">
                        </div> 
                        <div class="buttonagregar" ></div>
                            <button class="agregarDetail" type="submit"  value="Agregar"><p>Agregar al carrito</p>                            </button>    
                        </div>  
                    </form>
                </div>
            </section>
        </div>
        <div class="productdescription">
            <h1>DESCRIPCIÓN</h1>
            <p> <%= product?.description%></p>
        </div>
        <div class="container">
            <form action="/contact" method="POST">
                <label>Comentarios sobre el producto</label>
                <div class="commentbox">    
                    <textarea name="comment" class="commentarea">Deje su comentario...</textarea>
                    <div class="buttonenviar">
                        <button class="enviar">Enviar</button>
                    </div>            
                </div>
            </form>
        </div>
    </main>
    <%- include('../partials/footer') %>
</body>
</html>